#!/bin/bash

# Find the location of this script and store it for further use
SB_EXTERNALS_DIR="@SB_EXTERNALS_DIR@"
SB_LIB_DIR="@SB_LIB_DIR@"
DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
INSTALL_PREFIX=`dirname ${DIR}`

if [[ "$SB_LIB_DIR" != /* ]]; then
  SB_LIB_DIR="${INSTALL_PREFIX}/${SB_LIB_DIR}"
fi

if [[ "$SB_EXTERNALS_DIR" != /* ]]; then
  SB_EXTERNALS_DIR="${INSTALL_PREFIX}/${SB_EXTERNALS_DIR}"
fi

PATH=${INSTALL_PREFIX}:${DIR}:${PATH}
PATH="${SB_EXTERNALS_DIR}/bin":${PATH}
PATH=${INSTALL_PREFIX}:${SB_LIB_DIR}/Library/Frameworks/Python.framework/Versions/@PYVER@/bin:${PATH}
export PATH

export PYTHONPATH=${SB_LIB_DIR}/python@PYVER@/site-packages:${SB_EXTERNALS_DIR}/lib:${SB_LIB_DIR}/VisIt-@VISIT_VERSION@/site-packages/:${PYTHONPATH}
export SB_LD_LIBRARY_PATH=${SB_LIB_DIR}/paraview-@PARAVIEW_MAJOR@.@PARAVIEW_MINOR@:${SB_EXTERNALS_DIR}/lib:${SB_EXTERNALS_DIR}/lib/R/lib:${SB_LIB_DIR}:${SB_LIB_DIR}/VisIt-@VISIT_VERSION@:@QT_LIB_DIR@
export LD_LIBRARY_PATH=${SB_LD_LIBRARY_PATH}:${LD_LIBRARY_PATH}
export DYLD_FALLBACK_LIBRARY_PATH=${SB_LD_LIBRARY_PATH}:${SB_LIB_DIR}/python@PYVER@/site-packages:${SB_LIB_DIR}/python@PYVER@/site-packages/vcs:${DYLD_FALLBACK_LIBRARY_PATH}

export VISITPLUGINDIR=${SB_LIB_DIR}/VisIt-@VISIT_VERSION@-plugins
export R_HOME=${SB_EXTERNALS_DIR}/lib/R
export OPAL_PREFIX=${SB_EXTERNALS_DIR}
export LIBOVERLAY_SCROLLBAR=0

## On some system with X Forward or w/o modern graphic cards the following might be useful
## export LIBGL_ALWAYS_INDIRECT=1

